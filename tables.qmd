# Tables {#sec-day5-tables}

When it comes to tables in academic writing or reports, clear and consistent formatting is essential.

## General Guidelines

- **Captions and Cross-Referencing:**

  Every table should have a concise caption that includes a title and a descriptive sentence. Abbreviations or symbols used within the table must be defined in the caption. In Quarto, assign a label (e.g., `tab-summary`) so that you can cross-reference the table in your text with `@tab-summary`.
  _Note:_ All tables should be referenced in your text before they appear.

- **Table Styling:**

  - **Avoid Vertical Lines:** Most good style guides recommend that tables do not include vertical lines. Horizontal lines should typically only appear above and below the header row and at the bottom of the table.
  - **Minimal Horizontal Lines:** Use only as many horizontal lines as necessary to separate the header from the data.
  - **Rounding and Significant Figures:**  
    Present numerical data with a limited, preferrably consistent number of decimal/significant places (usually 2 or 3) to enhance readability. Use a functions like or `round()` or `signif()`.

## Example: Creating a Table with knitr::kable in Quarto

To run the examples below, attach these packages first:

```{r}
#| echo: true
#| results: hide
#| message: false
#| warning: false
pkg_vec <- c("ggplot2", "palmerpenguins", "dplyr", "knitr")
for (x in pkg_vec) {
  if (!requireNamespace(x, quietly = TRUE)) {
    install.packages(x, dependencies = TRUE)
  }
  # if you want to programmatically attach
  # libraries, this is the way to to do it
  library(x, character.only = TRUE)
}
```

Below is a sample Quarto code chunk that produces a table from an R data frame. In this example, we create a summary table of the penguins dataset:

```{r}
#| echo: fenced
#| fig-cap: "tab-summary: Summary Statistics for Penguin Measurements. Values are rounded to 2 decimal places. Abbreviations: FL = Flipper Length (mm), BM = Body Mass (g)."
#| results: asis

# Create a summary table of key statistics by species
penguin_summary <- penguins |>
  group_by(species) |>
  summarise(
    FL = round(mean(flipper_length_mm, na.rm = TRUE), 2),
    BM = round(mean(body_mass_g, na.rm = TRUE), 2),
    Count = n()
  )

# Display the table using knitr::kable
kable(
  penguin_summary,
  format = "html",
  table.attr = "style='width:50%; border-collapse: collapse;'",
  align = "lccc"
)
```

**Explanation:**

- **Caption and Label:**  
  The code chunk header includes a `fig-cap` attribute that begins with `tab-summary:`. This sets the table’s caption and label. In your text, reference it as “@tab-summary.”
- **Table Formatting:**  
  The `knitr::kable()` function is used to render the table. In this example, HTML formatting is chosen, but you can adjust the format based on your output (PDF, HTML, etc.). The inline CSS (via `table.attr`) is kept minimal to avoid excessive lines. Vertical lines are omitted.
- **Rounding:**  
  Numerical values are rounded to 2 decimal places to maintain clarity.

```

